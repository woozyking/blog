<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="mask-icon" href="/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"runzhou.li","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.18.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Buscando...","empty":"No hemos encontrado ningún resultado para la búsqueda: ${query}","hits_time":"${hits} resultados encontrados en ${time} ms","hits":"${hits} resultados encontrados"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="woozyking">
<meta property="og:url" content="https://runzhou.li/index.html">
<meta property="og:site_name" content="woozyking">
<meta property="og:locale" content="es_ES">
<meta property="article:author" content="Runzhou Li (Leo)">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://runzhou.li/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"es","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>woozyking</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Cambiar a barra de navegación" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">woozyking</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Buscar" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Tabla de contenidos
        </li>
        <li class="sidebar-nav-overview">
          Inicio
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Runzhou Li (Leo)"
      src="/favicon.png">
  <p class="site-author-name" itemprop="name">Runzhou Li (Leo)</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">23</span>
          <span class="site-state-item-name">entradas</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">32</span>
        <span class="site-state-item-name">etiquetas</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/woozyking" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;woozyking" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2023/06/23/Natural-Language-to-JSON-GPT-before-after-0613/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/06/23/Natural-Language-to-JSON-GPT-before-after-0613/" class="post-title-link" itemprop="url">Natural Language to JSON: GPT before/after 0613</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2023-06-23 11:20:24" itemprop="dateCreated datePublished" datetime="2023-06-23T11:20:24+00:00">2023-06-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><ul>
<li>We leveraged OpenAI’s June 13 update to make our web app navigational assistant (“RiskPilot”) <strong>5x faster and 20x cheaper</strong>.</li>
<li>While OpenAI stepped in the right direction with the <em>Function Calling</em> feature, we proved it has room to improve still.</li>
</ul>
<p><img src="https://github.com/RiskThinking/work-samples/assets/2837532/0d7a2764-d81b-42f4-aa0d-db3706352472" alt="table"></p>
<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>At <a target="_blank" rel="noopener" href="https://riskthinking.ai/">RiskThinking.AI</a>, we initiated a project back in April to leverage OpenAI’s GPT model to build a navigational assistant (dubbed “RiskPilot”) for our web app. At the time, <code>gpt-4-0314</code> was the only viable model since <code>gpt-3.5-turbo-0301</code> doesn’t have “system steerability” (the ability to guide the conversation towards a specific subject or goal.)</p>
<p>The workflow is fairly simple:</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2023/06/23/Natural-Language-to-JSON-GPT-before-after-0613/#more" rel="contents">
                Leer más &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2022/12/10/Road-to-Automation-QA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/12/10/Road-to-Automation-QA/" class="post-title-link" itemprop="url">Road to Automation: QA</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2022-12-10 15:54:40" itemprop="dateCreated datePublished" datetime="2022-12-10T15:54:40+00:00">2022-12-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure>
    <img src="https://user-images.githubusercontent.com/2837532/207129082-794079b4-c95b-43f8-9fe4-d044396e1434.png" />
    <figcaption align="center">Generated through <a target="_blank" rel="noopener" href="https://huggingface.co/CompVis/stable-diffusion-v1-4">Stable Diffusion v1-4</a></figcaption>
</figure>

<p>Software QA (quality assurance), much like documentation, while important, often gets overlooked and buried down in the priority list when compared to research and development efforts.</p>
<p>While there are increasing efforts to automate the various aspects of software QA, many still require substantial effort to get meaningful values (such as writing unit- or end-to-end tests). However, we have sophisticated a few other fronts that can integrate into many projects with minimal setup.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/12/10/Road-to-Automation-QA/#more" rel="contents">
                Leer más &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2021/11/26/Road-to-Automation-Updates/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/11/26/Road-to-Automation-Updates/" class="post-title-link" itemprop="url">Road to Automation: Updates</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2021-11-26 15:17:15" itemprop="dateCreated datePublished" datetime="2021-11-26T15:17:15+00:00">2021-11-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Team collaboration must get a sense of each others’ whereabouts as quickly and accurately as possible. Usually, teams resort to recurrent meetings to get updates from each other.</p>
<p>But meetings are not always the best way for this scenario:</p>
<ul>
<li>Meetings are synchronous, so everyone has to wait before continuing for the others to finish.</li>
<li>Especially when communicating verbally, it is difficult not to misinterpret each others’ words.</li>
<li>It is challenging to scale up the team size because that would amount to more meetings and more probable misinterpretation of the updates.</li>
<li>It is challenging to work as a distributed team where members can reside in different time zones.</li>
</ul>
<p>Building on top of the experience to <a href="/2020/11/19/Road-to-Automation-Release-Notes/" title="Road to Automation: Release Notes">automate our product release process</a>, we now automate the process to <a target="_blank" rel="noopener" href="https://github.com/EQWorks/updates">get daily and weekly updates</a> from each other from exactly where work happens and consume them asynchronously at our own pace.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2021/11/26/Road-to-Automation-Updates/#more" rel="contents">
                Leer más &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2020/11/19/Road-to-Automation-Release-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/11/19/Road-to-Automation-Release-Notes/" class="post-title-link" itemprop="url">Road to Automation: Release Notes</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2020-11-19 21:48:12" itemprop="dateCreated datePublished" datetime="2020-11-19T21:48:12+00:00">2020-11-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Automation is not a binary thing. We rarely go from manual to fully autonomous with one switch. Just like software development itself, it often requires iterative revisions, with some craftsmanship and never-enough imaginations.</p>
<p>A case I would love to share is our 8-month and counting journey we took to automate our release notes process.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/11/19/Road-to-Automation-Release-Notes/#more" rel="contents">
                Leer más &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2019/12/11/Break-It-Down/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/12/11/Break-It-Down/" class="post-title-link" itemprop="url">Break It Down</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2019-12-11 19:56:12" itemprop="dateCreated datePublished" datetime="2019-12-11T19:56:12+00:00">2019-12-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>This year, I have made 60% more git commits than last year, objectively more feature development, without burning any extra time.</p>
<p>During the same period, I have kept my 11PM - 7AM sleep routine, contributed more supportive tasks at work such as cultural development, and maintained longer streaks on Duolingo.</p>
<p>All of the above has been possible thanks to problem breakdown. It is a common technique that applies to almost all types of knowledge work, which comes with some great benefits.</p>
<h2 id="Solutions-become-easier-to-review"><a href="#Solutions-become-easier-to-review" class="headerlink" title="Solutions become easier to review"></a>Solutions become easier to review</h2><img src="/images/rain_wzq/break-it-down/01.JPG" alt="Easy to Review by Rain WZQ" height="400">

<p>In my case, each commit represents the solution to a less scoped problem. This results in faster review time, and more constructive suggestions from reviewers.</p>
<p>On the opposite, when a single solution covers too many grounds, it would take much more time and effort to review, so the agility of development takes a hit. Even worse, reviewers would say “screw it” and blindly approve the behemoth solution, defeats the whole purpose of peer reviewing and fast-track derailing product quality to the netherworld.</p>
<h2 id="Interruptions-become-more-manageable"><a href="#Interruptions-become-more-manageable" class="headerlink" title="Interruptions become more manageable"></a>Interruptions become more manageable</h2><img src="/images/rain_wzq/break-it-down/02.JPG" alt="Smaller Time Chunks by Rain WZQ" height="400">

<p>Suppose you need 2 hours of contiguous time to solve a large problem. During that process, unfortunately, you may get interrupted. Those interruptions will cost you a lot of time to switch your mental state back into the zone.</p>
<p>However, if you break such a problem down to 5 smaller ones, on average, each will need just about 30 minutes. 30 minutes of uninterrupted time is much easier to come by than 2 hours.</p>
<p>Even if you do get interrupted in that case, since each problem is about 1/5 complex of the original one, it would probably cost just 1/5 of the time to recover from the interruption. Simple math. Your <a href="/2018/04/09/Serverless-and-Attention-Span/">short attention span</a> will thank you for that too.</p>
<h2 id="Helps-to-define-better-scopes-for-faster-iterations"><a href="#Helps-to-define-better-scopes-for-faster-iterations" class="headerlink" title="Helps to define better scopes for faster iterations"></a>Helps to define better scopes for faster iterations</h2><img src="/images/rain_wzq/break-it-down/03.JPG" alt="Scopes by Rain WZQ" height="400">

<p>In an ideal world, you can pursue after your inner perfectionism without consequences. But in reality, there is always a decision to be made on when to stop pushing further. Otherwise, it may result in your time running out, or budget running dry, or blocking more of your teammates, or maddening more of your clients or stakeholders. You certainly do not want any of those.</p>
<p>So by breaking down larger problems down to smaller scopes, it often becomes easier to realize which ones can be deferred, or even dropped. At Basecamp, they call it <a target="_blank" rel="noopener" href="https://basecamp.com/handbook/04-vocabulary#scope-hammering"><em>Scope Hammering</em></a>.</p>
<h2 id="Helps-to-create-momentum-and-build-morale"><a href="#Helps-to-create-momentum-and-build-morale" class="headerlink" title="Helps to create momentum and build morale"></a>Helps to create momentum and build morale</h2><img src="/images/rain_wzq/break-it-down/04.JPG" alt="Positive Energy by Rain WZQ" height="400">

<p>Smaller solutions for smaller problems give faster wins. Faster wins create a healthy momentum to carry you forward and build positive morale.</p>
<h2 id="Final-Remark"><a href="#Final-Remark" class="headerlink" title="Final Remark"></a>Final Remark</h2><p>Every real-world technique comes with tradeoffs. For this one, it’s the time overhead. The less experienced you are in the domain, the more significant that overhead can be. But given the benefits, it’s well worth it.</p>
<p>So stop chewing through that complex problem, go ahead and break it down.</p>
<h2 id="Acknowledgements"><a href="#Acknowledgements" class="headerlink" title="Acknowledgements"></a>Acknowledgements</h2><p>Thanks to my wonderful coworkers at <a target="_blank" rel="noopener" href="https://www.eqworks.com/">EQ Works</a> for reviewing and <em>breaking down</em> this article.</p>
<p>Also thanks to <a target="_blank" rel="noopener" href="https://www.patreon.com/rainwzq">Rain WZQ</a> for the amazing illustrations.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2019/03/10/On-Code-Structure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2019/03/10/On-Code-Structure/" class="post-title-link" itemprop="url">On Code Structure</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2019-03-10 16:08:00" itemprop="dateCreated datePublished" datetime="2019-03-10T16:08:00+00:00">2019-03-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Code structure can be an important factor of a clean, well-organized codebase that is less intimidating to a new maintainer, and pleasant to work with for everyone. When done right, it can even beat a thousand <del>word</del> doc.</p>
<p>In my experience, the significance of code structure is either overlooked or over-engineered from the beginning. Both would supercharge the build-up of technical debts and sometimes could lead to a dead project sooner than you can say “refactor”.</p>
<p>By following a couple of simple conventions, we can make any project, almost language agnostically, better structured.</p>
<h3 id="Make-the-filesystem-work-for-you"><a href="#Make-the-filesystem-work-for-you" class="headerlink" title="Make the filesystem work for you"></a>Make the filesystem work for you</h3><p>First, make the filesystem work for you, not the other way around. You want the readers of the code to think as less as possible on <em>how</em> and <em>where</em> to locate the relevant code they’re looking for. Modern tools such as <a target="_blank" rel="noopener" href="https://code.visualstudio.com/docs/editor/intellisense">IntelliSense</a> make this relative unessential, but we cannot assume everyone has them available all the time.</p>
<p>This is more important if you work with a less opinionated stack or framework. In such a case, keeping a sane structure of files and folders would minimize frictions between maintainers, and across its development lifecycles.</p>
<p>There is no fixed “best way” to structure files and folders. But it’s important to pick one and stick to it.</p>
<p>For example, A Python API server project written in Flask may have a structure as below:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">./src/ # project root</span><br><span class="line">+-- app.py # entry point</span><br><span class="line">+-- modules/ # various groupings of functionalities</span><br><span class="line">|   +-- __init__.py</span><br><span class="line">|   +-- users/</span><br><span class="line">|   |   +-- __init__.py</span><br><span class="line">|   |   +-- auth.py</span><br><span class="line">|   |   +-- role.py</span><br><span class="line">|   +-- comments.py</span><br><span class="line">|   +-- posts/</span><br><span class="line">|   |   +-- __init__.py</span><br><span class="line">|   |   +-- util.py</span><br></pre></td></tr></table></figure>

<p>In this example, <code>comments</code> are among the modules that are at the same level as <code>users</code> and <code>posts</code>. But by itself, it’s a file, while the other two are folders. I’ll explain more about this in the next point.</p>
<h3 id="Progressive-Refactoring"><a href="#Progressive-Refactoring" class="headerlink" title="Progressive Refactoring"></a>Progressive Refactoring</h3><p>When you start on a new project or a new feature of a given project, it’s not a bad idea at all to put <em>everything</em> in one file. All until its size grows to a point that makes it hard to navigate through, then we start to divide.</p>
<p>This time we’ll take an Express.js based single-file router as a starting point, and gradually refactor it to a more manageable form.</p>
<p>We’ll start with</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./src/ # project root</span><br><span class="line">+-- app.js  # entry point</span><br></pre></td></tr></table></figure>

<p>We’ll assume the content of <code>app.js</code> to be something like <a target="_blank" rel="noopener" href="https://github.com/EQWorks/ws-product-nodejs/blob/master/index.js">https://github.com/EQWorks/ws-product-nodejs/blob/master/index.js</a>. It’s a nice little web server that serves some PostgreSQL driven queries, everything in one file with no more than 100 lines of code. Short, sweet, and everything within (one file) short reach.</p>
<p>But soon the project would grow into something like:</p>
<p><img src="/images/pasted-1.png" alt="almost 1k"></p>
<p><img src="/images/pasted-2.png" alt="peepo christ"></p>
<p>Navigating through this would be a nightmare and you can hear your inner self screaming “refactor! refactor now!”. So let’s refactor this, progressively.</p>
<p><code>$ mkdir app &amp;&amp; mv app.js app/index.js</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./src/ # project root</span><br><span class="line">+-- app/</span><br><span class="line">|   +-- index.js</span><br></pre></td></tr></table></figure>

<p>The first action is to stop the bleed by turning the <code>app.js</code> file into a package form. This does not make the existing code any more pleasant than before, but any new changes will have more leg room to expand on while keeping usage of the entire module the same:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// the usage of &#x27;app&#x27; stays the same as before</span><br><span class="line">const app = require(&#x27;./src/app&#x27;)</span><br></pre></td></tr></table></figure>

<p>Then you can wield your refactor ax <em>whenever</em> and <em>wherever</em> you can, all in a naturally scoped package form <code>app/</code> that wraps all the implementation details and groupings without breaking the API. At some point, the structure could look like:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">./src/ # project root</span><br><span class="line">+-- app/</span><br><span class="line">|   +-- index.js # entry point</span><br><span class="line">|   +-- db.js</span><br><span class="line">|   +-- models/</span><br><span class="line">|   |   +-- monsters.js</span><br><span class="line">|   |   +-- heroes.js</span><br><span class="line">|   +-- routes.js</span><br></pre></td></tr></table></figure>

<p>The evolution of the packages, sub-packages, sub-sub-packages, etc., all leverages the language’s filesystem-based package resolution mechanism (in this case Node.js, but similar with many), thus keeping the structure intuitive no matter how deep the structure tree goes, as long as the basic understanding of such mechanism is shared in common.</p>
<p>From within the code perspective, there are many strategies to divide and group. I like to keep as many things as <a target="_blank" rel="noopener" href="https://medium.com/javascript-scene/master-the-javascript-interview-what-is-a-pure-function-d1c076bec976">pure functions</a> as possible and keep them in an <code>util.js</code> module, or <code>util/</code> (sub-)package. They can also be <code>./src/feature/util</code> which is “local” to the given <code>feature</code>; or when a portion’s usage becomes common enough, refactored out to be a part of the “global” <code>./src/util</code>. But that’s just one strategy among many. More discussions around this topic in the next point.</p>
<h3 id="Grouping-Conventions"><a href="#Grouping-Conventions" class="headerlink" title="Grouping Conventions"></a>Grouping Conventions</h3><p>No matter how much we leverage the filesystem based package resolution mechanism, there would always come the inevitable human-opinion based disputes. Developer A likes to call data interactions <code>queries</code>, while developer B prefers <code>interfaces</code>. Pick any, and stick through.</p>
<p>It is paramount though, <em>not</em> to confuse the readers of the code with misleading grouping. For instance, coming as a deeply experienced <code>Ruby on Rails</code> developer, it’s in their nature to group things by <code>models</code>, <code>views</code>, and <code>controllers</code>. But to adopt such grouping, in a more <code>Sinatra</code>-like stack (like Python Flask and Express.js from above), it is more important to communicate with the rest of the maintainers <em>what</em> belongs to <em>where</em>, so a <code>view</code> related functionality does not appear in the <code>controllers</code> group.</p>
<p>Or, simply follow a more natural convention. In the context of a web application, group by intended URLs the route handlers listen to would be an excellent way.</p>
<p>For instance, you would have two versions of the APIs, and a few API endpoint groups (the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Representational_state_transfer#Applied_to_Web_services">RESTful APIs</a> term is “resources”):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">GET /v1/users</span><br><span class="line">GET /v1/users/:id</span><br><span class="line">POST /v1/users</span><br><span class="line">DELETE /v1/users</span><br><span class="line"># ...and more</span><br><span class="line">GET /v2/comments</span><br><span class="line">GET /v2/comments/:id</span><br><span class="line"># ...and more</span><br></pre></td></tr></table></figure>

<p>Why not map that naturally to your files structure?</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">./src/ # project root</span><br><span class="line">+-- v1/ # v1 API endpoints</span><br><span class="line">|   +-- users/ # users group/resource</span><br><span class="line">|   |   +-- interface.js # db related queries/interface</span><br><span class="line">|   |   +-- index.js # router</span><br><span class="line">|   # ... more</span><br><span class="line">+-- v2/ # v2 API endpoints</span><br><span class="line">|   +-- comments.js # comments group/resource</span><br><span class="line">|   # ... more</span><br></pre></td></tr></table></figure>

<p>This way, when a non-technical person complains that <em>“users dashboard have X glitch in v1”</em>, the developer can just go into <code>./src/v1/users</code>, and have a much smaller scope to deal with, without spending much valuable brain-cycle on pinning where things are.</p>
<h3 id="Final-Remarks"><a href="#Final-Remarks" class="headerlink" title="Final Remarks"></a>Final Remarks</h3><p>All of the above conventions are quite loose and are intentionally kept so. This is because every stack has its own set of ground rules to follow and best practices to base on. Also, it is meant to be adapted with personal preferences to not overshadow but to signify your, or your team’s style. Furthermore, in this highly evolving world of software, to keep these conventions loosely and naturally applied would allow for the projects to evolve along.</p>
<p>Hopefully, by adopting some or all of the above conventions, and by adapting them with your personal preferences, you get to <a href="/2016/07/06/Maximize-The-Joy-of-Programming/" title="Maximize The Joy of Programming">enjoy</a> programming even more.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2018/09/02/Lessons-learned-after-losing-my-DoorDash-account/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/09/02/Lessons-learned-after-losing-my-DoorDash-account/" class="post-title-link" itemprop="url">Lessons learned after losing my DoorDash account</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2018-09-02 21:58:09" itemprop="dateCreated datePublished" datetime="2018-09-02T21:58:09+00:00">2018-09-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h3><p>Don’t trust your password on a system that has no multi-factor authentication mechanism, especially ones that allow the change of <em>the ID</em> (email in this case) of your login without rigorous checks; <em>EVEN MORE SO</em> if you have your financial service access/information (such as credit card) associated to it.</p>
<h3 id="Update-Sep-07-2018"><a href="#Update-Sep-07-2018" class="headerlink" title="Update (Sep 07, 2018)"></a>Update (Sep 07, 2018)</h3><p>The account was recovered. That means I’m gladly proven wrong by DoorDash about not having sufficient logs to trace back. Thanks DoorDash.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2018/09/02/Lessons-learned-after-losing-my-DoorDash-account/#more" rel="contents">
                Leer más &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2018/04/09/Serverless-and-Attention-Span/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018/04/09/Serverless-and-Attention-Span/" class="post-title-link" itemprop="url">Serverless and Attention Span</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2018-04-09 08:40:04" itemprop="dateCreated datePublished" datetime="2018-04-09T08:40:04+00:00">2018-04-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Lately I’ve been leveraging the “serverless” architecture often. I like its statelessness, the predictable cost factor, the simplicity of development and deployment, etc. It just fits for systems that are event-driven. It’s already a strong tool that is being used by many live products, yet still steadily being improved by providers and the community on aspects such as cold-start time and time-to-live. Not to mention frameworks such as <a target="_blank" rel="noopener" href="https://serverless.com/"><code>serverless</code></a> and <a target="_blank" rel="noopener" href="https://apex.run/"><code>apex</code></a> further spoil us with ease of utilization.</p>
<p>There are also many technical reasons one can use to argue against using this architecture. Job security for certain overly-specific professions aside, at the end of the day, it should depend on use cases and automation requirements.</p>
<p>However, one of my rationale to justify the use of this architecture, as mentioned in the title, is related to attention span.</p>
<p>In today’s world, it is increasingly hard to be exempted from having a short attention span, which is often caused by constant interruptions of thought process and work-flow.</p>
<p>The interruptions may come from your co-workers that don’t understand why it’s not optimal to tap on your shoulder while you are in the “zone”.</p>
<p>The interruptions may come from your S.O. or close family member who brings up some important matter in your life while you’re trying to organize your thoughts on a nested for-loop.</p>
<p>The interruptions may even come from your own self-distractions – social networks, exciting announcements, or simply an accidental overhearing of topics that can suddenly pull you out your chair, so you can eagerly express your expert opinion.</p>
<p>Unless your work, your life, and yourself can all discipline and behave, having a short attention span is almost unavoidable.</p>
<p>There are rare developers who have adapted or been blessed to have a large enough reservoir of memory, and nimble enough brain power to handle quick and short context switches. If you are, or work with, one of these, congratulations! Some call them “10x” developers, I believe they’re truly genius.</p>
<p>Unfortunately, the vast majority of us aren’t.</p>
<p><img src="/images/memes/jason_heeris_2013_interruption.jpeg" alt="interruption"></p>
<p>So here comes the beauty of working with the serverless architecture. By its design and its common limits, the software you deploy serverlessly are hopefully simple and small. That’s why providers name their direct serverless offering as “Lambda”, or “Functions”, and encourage developers to write pure, stateless, stable input-output functions that often focus on one thing at a time. That naturally leads to simpler and smaller of the program that needs to be written (don’t be <a target="_blank" rel="noopener" href="https://github.com/kelseyhightower/nocode">too extreme</a> though). And that means shorter tasks that fit better in our shorter attention spans.</p>
<p>Now, before I’m accused of being a sales person of certain provider, or a fan-boy of the architecture, let me lay it out for you what’s in it for the providers – smaller pieces <code>=</code> more services needed to solve real-world problems <code>=</code> more usage fees $$$. Simple.</p>
<p>So to avoid being ripped off by naively hopping on the hype-train, a new challenge for developers who work with serverless architecture is to figure out a good balance for each service to maximize processing done per billable resource, while keep the logic simple enough or just stateless. That’s not always easy, because it often requires assessment of other services that it connects with. In the older times (or larger organizations), this type of duty falls on the hand of dedicated architects, which is a profession that’s increasingly obsolete in the younger and smaller organizations (and rightfully so).</p>
<p>“Serverless” is far from being the silver-bullet answer to all problems, it still requires fine tinkering and craftsmanship.</p>
<p>But my point stands, that in a world full of distractions, the naturally simpler, smaller, and often stateless functions help greatly in solution composition, as well as mitigating interruptions coming from whatever angle.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2016/11/08/A-poor-man-s-approach-to-load-many-heavy-html-elements/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/11/08/A-poor-man-s-approach-to-load-many-heavy-html-elements/" class="post-title-link" itemprop="url">A poor man's approach to load many heavy HTML elements</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2016-11-08 20:54:53" itemprop="dateCreated datePublished" datetime="2016-11-08T20:54:53+00:00">2016-11-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://images.akamai.steamusercontent.com/ugc/71248569151574222/0E1D5FBE20A79A1633B3D35B0BC086E4929F1B79/" alt="Poor Man&#39;s Shield"></p>
<p>If you’ve played <a target="_blank" rel="noopener" href="https://blog.dota2.com/">Dota</a>, then you’d know an item called <a target="_blank" rel="noopener" href="https://dota2.gamepedia.com/Poor_Man%27s_Shield">Poor Man’s Shield</a>. Without getting too much into the meta and expose my laughable understanding of the game, the item is mostly about cost efficient way to deal with relatively tough situations in the early game, without the late game resources to go for a more luxurious option right away (except when you can stomp in early game against noobs like me).</p>
<p>In web development, there can be tough situations as well. One situation I encountered recently was to load potentially thousands of items each with multiple charts on a single page, in a nutshell:</p>
<p><img src="/images/screenshots/many_elements_with_charts.png" alt="So Many Charts"></p>
<p>In this post, I’m going to walk through my steps of developing the poor man’s approach to handle the tough situation. For examples below, we are going to utilize <code>Vue.js v2</code> as the data binding layer, and <code>Chart.js v2</code> for chart.</p>
<h3 id="Be-Naive"><a href="#Be-Naive" class="headerlink" title="Be Naive"></a>Be Naive</h3><p>Starting with the most naive approach:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">//... other configurations</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="attr">chart</span>: &#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;&lt;canvas :height=&quot;height&quot;&gt;&lt;/canvas&gt;&#x27;</span>,</span><br><span class="line">      <span class="attr">props</span>: [<span class="string">&#x27;height&#x27;</span>, <span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;options&#x27;</span>, <span class="string">&#x27;type&#x27;</span>],</span><br><span class="line">      <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="attr">render</span>: <span class="keyword">function</span>(<span class="params">el</span>) &#123;</span><br><span class="line">          <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">          self.<span class="property">chart</span> = <span class="keyword">new</span> <span class="title class_">Chart</span>((el || self.<span class="property">$el</span>).<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>), &#123;</span><br><span class="line">            <span class="attr">type</span>: self.<span class="property">type</span> || <span class="string">&#x27;line&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: self.<span class="property">data</span> || &#123;</span><br><span class="line">              <span class="attr">labels</span>: [],</span><br><span class="line">              <span class="attr">datasets</span>: []</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">options</span>: self.<span class="property">options</span> || &#123;&#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">mounted</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="comment">// initialize the chart</span></span><br><span class="line">        self.<span class="title function_">render</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>(<a target="_blank" rel="noopener" href="https://jsfiddle.net/woozyking/vd2psadj/">fully working jsfiddle</a>)</p>
<p>This works. However it becomes royally painful to load when you have so many items as the situation I described earlier. In fact, just a mere hundred of such items on a single page already causes unpleasant amount of time to render while showing a blank page, and blocking all user interactions except inviting end users to force close the browser/tab due to frustration (and probably never getting them back). Such horror is not tolerable on today’s internet.</p>
<h3 id="Be-Asynchronous"><a href="#Be-Asynchronous" class="headerlink" title="Be Asynchronous"></a>Be Asynchronous</h3><p>One way we can make this better is to explicitly instruct the component to asynchronously initialize the chart through the use of <code>setTimeout</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">//... other configurations</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="attr">chart</span>: &#123;</span><br><span class="line">      <span class="comment">//... same component configurations as above</span></span><br><span class="line">      <span class="attr">mounted</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="comment">// asynchronously initialize the chart</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          self.<span class="title function_">render</span>();</span><br><span class="line">        &#125;, <span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>(<a target="_blank" rel="noopener" href="https://jsfiddle.net/woozyking/pghb6znL/">fully working jsfiddle</a>)</p>
<p>This approach effectively causes <code>Vue</code> to render the charts in the “next” update cycle. It makes the UI a bit less painful to use as there can be some “primer” contents rendered, which usually exhibit as a part of the parent elements that hold the chart component. However, this is not good enough, as the deferred update cycle would still block the whole UI. This is especially bad when the page offers many items in a list fashion that the users would want to either search with <code>CTRL/CMD + F</code> or scroll down for items that are out of the current view. Besides, it’s very wasteful to render things that cannot even be seen yet.</p>
<h3 id="Be-Lazy"><a href="#Be-Lazy" class="headerlink" title="Be Lazy"></a>Be Lazy</h3><p>This leads to a tried and proven technique many refer to as “lazy-loading”. With so many years of such technique being matured, and thanks to the ever so successful open source community, one can easily pick a robust library that does it well while being delightfully simple to use. The following is an approach with one such library called <a target="_blank" rel="noopener" href="https://scrollrevealjs.org/">ScrollReveal</a>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sr = <span class="title class_">ScrollReveal</span>();</span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">//... other configurations</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="attr">chart</span>: &#123;</span><br><span class="line">      <span class="comment">//... same component configurations as above</span></span><br><span class="line">      <span class="attr">mounted</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">        sr.<span class="title function_">reveal</span>(self.<span class="property">$el</span>, &#123;</span><br><span class="line">          <span class="attr">afterReveal</span>: self.<span class="property">render</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>(<a target="_blank" rel="noopener" href="https://jsfiddle.net/woozyking/7k02a01w/">fully working jsfiddle</a>)</p>
<p>It’s pretty amazing now, the component rendering get deferred until they are needed by the end users.</p>
<h3 id="Extra"><a href="#Extra" class="headerlink" title="Extra"></a>Extra</h3><p>After handling the situations for the sake of end users, let’s make a final touch to give some options for the users of this component to have control over the render flow, for example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sr = <span class="title class_">ScrollReveal</span>();</span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">//... other configurations</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="attr">chart</span>: &#123;</span><br><span class="line">      <span class="comment">//... same component configurations as above</span></span><br><span class="line">      <span class="attr">props</span>: [</span><br><span class="line">        <span class="string">&#x27;height&#x27;</span>, <span class="string">&#x27;data&#x27;</span>, <span class="string">&#x27;options&#x27;</span>, <span class="string">&#x27;type&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;flow&#x27;</span> <span class="comment">// let&#x27;s add a &#x27;flow&#x27; parameter</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">mounted</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">if</span> (self.<span class="property">flow</span> == <span class="string">&#x27;sync&#x27;</span>) &#123;</span><br><span class="line">          self.<span class="title function_">render</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (self.<span class="property">flow</span> == <span class="string">&#x27;async&#x27;</span>) &#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            self.<span class="title function_">render</span>();</span><br><span class="line">          &#125;, <span class="number">0</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          sr.<span class="title function_">reveal</span>(self.<span class="property">$el</span>, &#123;</span><br><span class="line">            <span class="attr">afterReveal</span>: self.<span class="property">render</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>The <code>flow</code> parameter allows 3 modes, let’s go by imaginary use cases:</p>
<ul>
<li><code>sync</code> would be used when this chart component is nested under another component (which hopefully already applies some sort of render deferring optimization similar to what we’ve done thus far), <strong>and</strong> requires the chart to visually appear at the same time as its parent component</li>
<li><code>async</code> is very similar to <code>sync</code>, except that we don’t require the chart to visually appear at the exact same moment as its parent component. </li>
<li>The third and the default mode would be the self-contained optimal approach that we worked out from above.</li>
</ul>
<p>There’s room for more sophistication. One can wrap the above into an easy-to-use custom directive or wrapper component, or even directly make it into <code>Vue.js</code>, making it more of an “end game” approach. With some twist, this approach can also be adapted into other choices of data binding layer and chart library.</p>
<p>But there’s always the option to employ the poor man’s approach – simple, effective, easy to understand and not too shabby to apply to any existing applications of any scale.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://runzhou.li/2016/07/06/Maximize-The-Joy-of-Programming/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/favicon.png">
      <meta itemprop="name" content="Runzhou Li (Leo)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="woozyking">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | woozyking">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2016/07/06/Maximize-The-Joy-of-Programming/" class="post-title-link" itemprop="url">Maximize The Joy of Programming</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Publicado el</span>

      <time title="Creado por: 2016-07-06 22:22:42" itemprop="dateCreated datePublished" datetime="2016-07-06T22:22:42+00:00">2016-07-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Editado el</span>
      <time title="Modificado por: 2023-09-05 15:32:47" itemprop="dateModified" datetime="2023-09-05T15:32:47+00:00">2023-09-05</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Programming can be enjoyable, but not always so. I bet even those who claim to be the most passionate about programming suffer from impossible deadlines, technical difficulties and other causes. As a programmer, I certainly don’t want to have my final moment like this:</p>
<blockquote>
<p>You see, when you lie on your death bed, you will look deep into your wife’s eyes, and think of all those lovely moments you spend in Visio drawing UML diagrams and writing clean, simple and maintainable code…<br><em>Stack Exchange User 11170</em> - <a target="_blank" rel="noopener" href="https://programmers.stackexchange.com/a/114888/95830">https://programmers.stackexchange.com/a/114888/95830</a></p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2016/07/06/Maximize-The-Joy-of-Programming/#more" rel="contents">
                Leer más &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" title="Página siguiente" aria-label="Página siguiente" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Runzhou Li (Leo)</span>
  </div>
  <div class="powered-by">Creado mediante <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Volver al principio">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
